<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name=viewport content="width=device-width,initial-scale=1,user-scalable=0,viewport-fit=cover">
	<title>图片裁剪-示例</title>
	<style>
		body{
			user-select: none;
		}
	</style>
</head>
<body>

<canvas id="canvas"></canvas>
<div>
	<button onclick="takePhoto(this)">截图</button>
	<button onclick="onzoom(1.1)">放大</button>
	<button onclick="onzoom(0.9)">缩小</button>
	<button onclick="onrotate(10)">旋转</button>
</div>
<canvas id="photo" style="display: none;">

</body>
</html>


<script src="../build/lib.js"></script>
<script src="../build/test.js"></script>
<!-- <script src="../src/lib.js"></script> -->
<script>

window.takePhoto = function (e){
    var imgData = cropper.getCropImage();
    var photo = document.getElementById('photo');
    photo.width = cropper.options.cropW*cropper.ycc.dpi;
    photo.height = cropper.options.cropH*cropper.ycc.dpi;
    photo.style.width = cropper.options.cropW + 'px';
    photo.style.background = '#000'
    photo.getContext('2d').putImageData(imgData,0,0);
    photo.style.display = 'inline-block'
}
window.onzoom = function (rate) {
	cropper.ycc.gesture.onmultistart.call(cropper.ycc.gesture);
	cropper.ycc.gesture.onzoom.call(cropper.ycc.gesture,{zoomRate:rate||1.1});
}
window.onrotate = function (angle) {
	cropper.ycc.gesture.onmultistart.call(cropper.ycc.gesture);
	cropper.ycc.gesture.onrotate.call(cropper.ycc.gesture,{angle:angle||20});
}
</script>
<!-- 百度统计 -->
<script>
window._hmt = typeof _hmt === 'undefined'? [] : _hmt;
(function() {
	var hm = document.createElement("script");
	hm.src = "https://hm.baidu.com/hm.js?06bf154efb71d97ca67dbea22e80233b";
	var s = document.getElementsByTagName("script")[0]; 
	s.parentNode.insertBefore(hm, s);
})();
</script>